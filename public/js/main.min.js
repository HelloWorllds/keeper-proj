function userIdGenerator(){var a=String.fromCharCode(65+Math.floor(26*Math.random())),i=a+Date.now();return i}function regNewUser(a,i,e){firebase.database().ref("users/"+a).set({email:i,password:e})}function validateEmail(a){var i=/^(\w+\.?\+?)*@([a-z0-9]{2,})\.(\w{2,4})$/;return i.test(a)}function validatePass(a){var i=/(\w([#?!@$%^&*-])?){6,40}/;return i.test(a)}function checkInput(a,i){a?$("#"+i).css("border","2px solid #339933"):$("#"+i).css("border","2px solid #c70000")}var config={apiKey:"AIzaSyBaK3yPJP9p3F3tVC5TRVZntd08DDpiPhQ",authDomain:"keeper-4e597.firebaseapp.com",databaseURL:"https://keeper-4e597.firebaseio.com",storageBucket:"keeper-4e597.appspot.com",messagingSenderId:"874065713541"};firebase.initializeApp(config),$(document).ready(function(){function a(a){t>e.length-1?($(".main").animate({opacity:"0.8"},a,function(){t=1,$(".main").css({background:"url('../images/"+e[t]+"') no-repeat"})}),$(".main").animate({opacity:"1"},a)):($(".main").animate({opacity:"0.8"},a,function(){$(".main").css({background:"url('../images/"+e[t]+"') no-repeat"}),t++}),$(".main").animate({opacity:"1"},a))}var i=$(window).height();$("body").css("height",i).css("width",$(window).width());var e=["main_bg1.jpg","main_bg2.jpg","main_bg3.jpg","main_bg4.jpg","main_bg5.jpg","main_bg6.jpg","main_bg7.jpg"],t=0;setInterval(a,8e3),$(".main .btn-carousel--left").click(function(){var a=$(".main").css("background"),i=parseInt(a.replace(/[^1-7]/gi,""))-1;8==i?i=1:0==i&&(i=7),$(".main").css("background","url('../images/main_bg"+i+".jpg') no-repeat")}),$(".main .btn-carousel--right").click(function(){var a=$(".main").css("background"),i=parseInt(a.replace(/[^1-7]/gi,""))+1;8==i?i=1:0==i&&(i=7),$(".main").css("background","url('../images/main_bg"+i+".jpg') no-repeat")}),$(".authorization .authorization-tabs .authorization-tab").click(function(){$(".authorization .authorization-tabs .authorization-tab").removeClass("active").eq($(this).index()).addClass("active"),$(".authorization .authorization-tab__item").hide().eq($(this).index()).fadeIn()}),$(".album__header").click(function(){"none"==$(".btn-download").css("display")?$(".btn-download").slideToggle("slow"):$(".btn-download").slideToggle("slow")});for(var s=$(".album__img-wrapper span").length,o=1;o<=s;++o)o!=s&&(1==o||o%6==0?($(".album__img-wrapper span:nth-child("+o+")").css("height","412px"),$(".album__img-wrapper span:nth-child("+o+")").css("width","66.666%"),$(".album__img-wrapper span:nth-child("+o+")").css("float","left")):o%3!=0&&o%9!=0||($(".album__img-wrapper span:nth-child("+o+")").css("height","412px"),$(".album__img-wrapper span:nth-child("+o+")").css("width","66.666%"),$(".album__img-wrapper span:nth-child("+o+")").css("float","right")));"block"==$(".slider").css("display")?$(".main").css("display","none"):$(".main").css("display","block");var r=0,n=parseInt($(".slider__carousel__img-wrapper img").length),l=1;$(".slider__carousel__info__img-counter span").text(l+" of "+n),$(".slider__carousel__info__image-name").text($(".visible-img").attr("alt")),$(".slider .btn-carousel--right").click(function(){$(".slider__carousel__img-wrapper img:eq("+r+")").removeClass("visible-img"),r++,$(".slider__carousel__img-wrapper img:eq("+r+")").addClass("visible-img"),l++,$(".slider__carousel__info__img-counter span").text(l+" of "+n),l>n&&(l=1,$(".slider__carousel__info__img-counter span").text(l+" of "+n)),r==n&&(r=0,$(".slider__carousel__img-wrapper img:eq("+(n-1)+")").removeClass("visible-img"),$(".slider__carousel__img-wrapper img:eq("+r+")").addClass("visible-img")),$(".slider__carousel__info__image-name").text($(".visible-img").attr("alt"))}),$(".slider .btn-carousel--left").click(function(){$(".slider__carousel__img-wrapper img:eq("+r+")").removeClass("visible-img"),0==r&&(r=n,$(".slider__carousel__img-wrapper img:eq(0)").removeClass("visible-img"),$(".slider__carousel__img-wrapper img:eq("+r+")").addClass("visible-img")),r--,$(".slider__carousel__img-wrapper img:eq("+r+")").addClass("visible-img"),l--,0==l&&(l=n,$(".slider__carousel__info__img-counter span").text(l+" of "+n)),$(".slider__carousel__info__img-counter span").text(l+" of "+n),$(".slider__carousel__info__image-name").text($(".visible-img").attr("alt"))});var c=0,m=!0;$(".like-counter").text(c),$(".btn-img--like").click(function(){m?(++c,$(".like-counter").text(c),$(".btn-img--like").css("background-position","-403px -114px")):$(".btn-img--like").prop("disabled",!0),m=!1}),$("#lNameReg").focusout(function(){checkInput(validateEmail($("#lNameReg").val()),"lNameReg")}),$("#passwReg").focusout(function(){checkInput(validatePass($("#passwReg").val()),"passwReg")}),$("#rePasswReg").focusout(function(){$("#passwReg").val()!=$("#rePasswReg").val()?$("#rePasswReg").css("border","2px solid #c70000"):$("#rePasswReg").css("border","2px solid #339933")})}),$(document).ready(function(){$(".btn-white").click(function(){var a="block",i="none";$(".main-page").css("display",i),$(".authorization").css("display",a),$(".album").css("display",i),$(".slider").css("display",i),$(".authorization .authorization-tabs .authorization-tab:eq(1)").removeClass("active"),$(".authorization .authorization-tabs .authorization-tab:eq(0)").addClass("active"),$(".authorization .authorization-tab__item").hide().eq(0).fadeIn(),localStorage.setItem("main-page",i),localStorage.setItem("authorization",a),localStorage.setItem("album",i),localStorage.setItem("slider",i)}),$(".menu__auth__reg").click(function(){var a="block",i="none";$(".main-page").css("display",i),$(".authorization").css("display",a),$(".album").css("display",i),$(".slider").css("display",i),$(".authorization .authorization-tabs .authorization-tab:eq(1)").removeClass("active"),$(".authorization .authorization-tabs .authorization-tab:eq(0)").addClass("active"),$(".authorization .authorization-tab__item").hide().eq(0).fadeIn(),localStorage.setItem("main-page",i),localStorage.setItem("authorization",a),localStorage.setItem("album",i),localStorage.setItem("slider",i)}),$(".menu__auth__auth").click(function(){var a="block",i="none";$(".main-page").css("display",i),$(".authorization").css("display",a),$(".album").css("display",i),$(".slider").css("display",i),$(".authorization .authorization-tabs .authorization-tab:eq(0)").removeClass("active"),$(".authorization .authorization-tabs .authorization-tab:eq(1)").addClass("active"),$(".authorization .authorization-tab__item").hide().eq(1).fadeIn(),localStorage.setItem("main-page",i),localStorage.setItem("authorization",a),localStorage.setItem("album",i),localStorage.setItem("slider",i)}),$(".menu__logo").click(function(){var a="block",i="none";$(".main-page").css("display",a),$(".authorization").css("display",i),$(".album").css("display",i),$(".slider").css("display",i),localStorage.setItem("main-page",a),localStorage.setItem("authorization",i),localStorage.setItem("album",i),localStorage.setItem("slider",i)});var a=localStorage.getItem("main-page"),i=localStorage.getItem("authorization"),e=localStorage.getItem("album"),t=localStorage.getItem("slider");$(".main-page").css("display",a),$(".authorization").css("display",i),$(".album").css("display",e),$(".slider").css("display",t)});